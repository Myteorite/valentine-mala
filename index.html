<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Mala's Heart OS v3.1</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <audio id="bgMusic" loop>
        <source src="assets/audio/backsound.mp3" type="audio/mpeg">
    </audio>

    <div id="bootScreen" class="h-screen w-full bg-black text-green-400 p-4 md:p-8 flex flex-col justify-end font-mono">
        <div id="bootText" class="text-lg md:text-3xl leading-relaxed">
            > SYSTEM BOOT...<br>
            > CHECKING_HEART... <span class="text-red-500">HIGH</span><br>
            > TARGET_USER: NIRMALA<br>
            > STATUS: BEAUTIFUL<br>
            > <span class="cursor-blink">_</span>
        </div>
    </div>

    <div id="loginScreen" class="hidden screen-container pixel-bg flex-col px-4">
        <div class="retro-window p-6 text-center bg-gray-100 shadow-2xl w-full max-w-md">
            <div class="window-header mb-6">
                <span class="window-title">LOGIN.EXE</span>
                <div class="window-buttons"><div class="win-btn close"></div></div>
            </div>
            <p class="text-xl md:text-2xl text-pink-600 mb-4">Password: Nama Pacar Azmy</p>
            <input type="text" id="nameInput" placeholder="Nirmala..." class="w-full p-3 border-4 border-pink-300 font-mono text-xl mb-6 text-center uppercase focus:outline-none focus:border-pink-500 rounded-none">
            <button onclick="checkName()" class="pixel-btn w-full hover:bg-pink-400 text-xl md:text-2xl">UNLOCK HEART</button>
            <p id="errorMsg" class="text-red-500 mt-4 text-lg hidden animate-pulse">Salah cantik, coba lagi!</p>
        </div>
    </div>

    <div id="questionScreen" class="hidden screen-container pixel-bg relative overflow-hidden px-4">
        <div class="retro-window p-6 md:p-8 text-center z-10 w-full max-w-lg">
            <div class="window-header mb-6">
                <span class="window-title">CRITICAL_QUESTION</span>
                <div class="window-buttons">
                    <div class="win-btn close"></div>
                </div>
            </div>
            
            <h1 class="text-4xl md:text-6xl text-pink-600 mb-2 leading-none">Haii Cantik...</h1>
            <p class="text-2xl md:text-4xl text-gray-700 mb-8">Will you be my Valentine?</p>
            
            <div class="flex justify-center gap-4 md:gap-8 mt-4 relative">
                <button id="yesBtn" onclick="acceptLove()" class="pixel-btn text-xl md:text-2xl">
                    YES! ‚ù§Ô∏è
                </button>
                
                <button id="noBtn" 
                    onmouseover="dodge(event)" 
                    ontouchstart="dodge(event)" 
                    onclick="dodge(event)" 
                    class="pixel-btn bg-gray-400 border-gray-200 text-gray-800 text-xl md:text-2xl transition-all duration-75">
                    NO
                </button>
            </div>
        </div>
    </div>

    <div id="desktopScreen" class="hidden screen-container pixel-bg p-4 flex-col md:flex-row gap-6 items-center justify-center h-screen overflow-hidden">
        
        <div class="retro-window w-full md:w-2/3 h-[50vh] md:h-[500px] flex flex-col shadow-2xl z-10">
            <div class="window-header">
                <span class="window-title">‚ù§Ô∏è for_mala.html</span>
                <div class="window-buttons">
                    <div class="win-btn close"></div>
                    <div class="win-btn min"></div>
                </div>
            </div>
            <div class="address-bar text-sm md:text-lg overflow-hidden whitespace-nowrap">
                <span class="mr-2">üåê</span> love://mala/forever
            </div>
            <div class="bg-white flex-1 p-6 overflow-y-auto">
                <div class="border-l-4 border-pink-400 pl-4 md:pl-6 py-2">
                    <p class="text-2xl md:text-3xl text-pink-500 mb-2 font-bold">This is for you.</p>
                    <p class="text-xl md:text-2xl text-gray-600 mb-1">For the person I choose</p>
                    <p class="text-xl md:text-2xl text-gray-600 mb-4">in every version of the day.</p>
                    <p class="text-2xl md:text-3xl text-pink-600 font-bold bg-pink-100 inline-block px-2">I Love You, Mala!</p>
                </div>
            </div>
        </div>

        <div class="w-full md:w-auto flex flex-row md:flex-col justify-center gap-8 md:gap-12 folder-container z-0">
            <div class="folder" onclick="openModal('modalMemories')">
                <div class="folder-icon text-5xl md:text-7xl">üìÅ</div>
                <span class="folder-name text-sm md:text-base">Memories</span>
            </div>
            <div class="folder" onclick="openModal('modalWhy')">
                <div class="folder-icon text-5xl md:text-7xl">üìÅ</div>
                <span class="folder-name text-sm md:text-base">Why_You</span>
            </div>
        </div>
    </div>

    <div id="modalMemories" class="hidden modal-overlay p-4" onclick="closeModal(this)">
        <div class="retro-window p-2 bg-white w-full max-w-md shadow-2xl" onclick="event.stopPropagation()">
            <div class="window-header mb-2 bg-pink-200">
                <span class="window-title text-sm">Viewer.exe</span>
                <div class="win-btn close" onclick="closeModal(document.getElementById('modalMemories'))"></div>
            </div>
            <div class="photo-grid">
                <img src="assets/images/mala-1.jpg" alt="Foto 1">
                <img src="assets/images/mala-2.jpg" alt="Foto 2">
                <img src="assets/images/mala-3.jpg" alt="Foto 3">
                <img src="assets/images/mala-4.jpg" alt="Foto 4">
            </div>
            <p class="text-center text-lg mt-2 text-pink-500">Momen favoritku ‚ù§Ô∏è</p>
        </div>
    </div>

    <div id="modalWhy" class="hidden modal-overlay p-4" onclick="closeModal(this)">
        <div class="retro-window p-6 max-w-md bg-white w-full shadow-2xl" onclick="event.stopPropagation()">
            <div class="window-header mb-4 bg-yellow-200">
                <span class="window-title">Note.txt</span>
                <div class="win-btn close" onclick="closeModal(document.getElementById('modalWhy'))"></div>
            </div>
            <h3 class="text-3xl md:text-4xl text-pink-600 border-b-4 border-pink-200 mb-4 inline-block">Why You?</h3>
            <p class="text-xl md:text-2xl text-gray-700 leading-relaxed">
                "Karena cuma Mala yang bisa bikin hari biasa jadi spesial. Senyum kamu itu alasan kenapa aku semangat setiap hari."
                <br><br>
                <span class="text-pink-500 font-bold">Love, Azmy.</span>
            </p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
